<h2 mat-dialog-title>{{ resource.id ? 'Edit Kitchen Resource' : 'Create Kitchen Resource' }}</h2>
<form>
  <div mat-dialog-content>
    <div class="grid grid-cols-1">
      <mat-form-field class="mat-headline-5" floatLabel="auto">
        @let name = form.name();
        <mat-label>Name</mat-label>
        <input type="text" matInput [formField]="form.name" />
        @if (name.invalid() && name.touched()) {
        <mat-error class="min-w-50 overflow-auto">{{ name.errors()[0]?.message }}</mat-error>
        }
      </mat-form-field>
      <mat-form-field class="mt-2" floatLabel="auto">
        <mat-label>Description</mat-label>
        <textarea matInput [formField]="form.description" style="resize: none" rows="5"></textarea>
      </mat-form-field>
      <div class="grid grid-cols-2 gap-1">
        <mat-form-field class="mat-headline-5" floatLabel="auto">
          @let maxParallelActivities = form.maxParallelActivities();
          <mat-label>Max Parallel Activities</mat-label>
          <input type="number" matInput [formField]="form.maxParallelActivities" />
          @if (maxParallelActivities.invalid() && maxParallelActivities.touched()) {
          <mat-error class="min-w-50 overflow-auto">{{ maxParallelActivities.errors()[0]?.message }}</mat-error>
          } @else {
          <mat-hint>Must be between 1 and 6</mat-hint>
          }
        </mat-form-field>
        @if (resourceCount > 1) {
        <mat-form-field class="mat-headline-5" floatLabel="auto">
          @let seq = form.seq();
          <mat-label>Sequence</mat-label>
          <input type="number" matInput [formField]="form.seq" />
          @if (seq.invalid() && seq.touched()) {
          <mat-error class="min-w-50 overflow-auto">{{ seq.errors()[0]?.message }}</mat-error>
          } @else {
          <mat-hint>Must be between 0 and {{ resourceCount - 1 }}</mat-hint>
          }
        </mat-form-field>
        }
      </div>
    </div>
  </div>
  <mat-dialog-actions [align]="'end'" [style.padding-right.px]="24">
    <button matButton [mat-dialog-close]="undefined">Cancel</button>
    @if (resource.id !== '') {
    <button matButton (click)="deleteResource($event)">Delete</button>
    }
    <button matButton (click)="saveResource($event)" [disabled]="!canSave()">Save</button>
  </mat-dialog-actions>
</form>
