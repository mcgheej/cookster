<h2 mat-dialog-title>Edit Resource Action</h2>
<form [formGroup]="form" (ngSubmit)="saveActivity()">
  <div class="px-6">
    <div class="mt-3 grid grid-cols-[1fr_1fr] gap-4">
      <mat-form-field floatLabel="auto">
        <mat-label>Time</mat-label>
        <input matInput [matTimepicker]="timepicker" formControlName="actionTime" />
        @if (form.get('actionTime')?.invalid && form.get('actionTime')?.touched) {
          <mat-error>{{ getErrorMessage() }}</mat-error>
        }
        <mat-timepicker #timepicker />
        <mat-timepicker-toggle matSuffix [for]="timepicker" />
      </mat-form-field>
      <div></div>
    </div>
    <div class="mt-3 grid grid-cols-1">
      <mat-form-field class="mat-headline-5" floatLabel="auto">
        <mat-label>Activity Name</mat-label>
        <input type="text" matInput [formControlName]="'name'" placeholder="Name your activity..." />
        @if (form.get('name')?.invalid && form.get('name')?.touched) {
          <mat-error>Name is required</mat-error>
        }
        @if (form.get('name')?.invalid && !form.get('name')?.touched) {
          <mat-hint>The activity must have a name</mat-hint>
        }
      </mat-form-field>
    </div>
  </div>
  <mat-dialog-actions [align]="'end'" [style.padding-right.px]="24">
    <button matButton [mat-dialog-close]="undefined">Cancel</button>
    <button matButton (click)="deleteAction($event)">Delete</button>
    <button matButton type="submit" [disabled]="form.invalid">Save</button>
  </mat-dialog-actions>
</form>
