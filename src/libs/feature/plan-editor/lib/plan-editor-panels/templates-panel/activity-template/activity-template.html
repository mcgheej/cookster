@if (vm(); as vm) {
<div class="w-[95%] h-[90%] grid mt-1 ml-0.5 text-xs text-(--mat-sys-on-surface)">
  <div
    class="size-full self-center justify-self-center rounded-md"
    [style.backgroundColor]="vm.color"
    (mouseenter)="onEnterTemplate()"
    (mouseleave)="onLeaveTemplate()">
    <div class="size-full grid grid-rows-[1fr_26px]">
      @if (vm.actionsPresent) {
      <div class="row-start-1 row-end-2 col-start-1 col-end-2 size-full text-right px-1">
        <div class="self-start justify-self-start">
          <mat-icon [style.fontSize.px]="10" [style.height.px]="10" [style.width.px]="10">electric_bolt</mat-icon>
        </div>
      </div>
      }
      <div
        [ckDrag]="dragOperation()"
        class="row-start-1 row-end-2 col-start-1 col-end-2 size-full text-center px-1 grid grid-cols-1"
        (ckDragEnded)="onDragEnd($event)">
        <div class="self-center justify-self-center select-none">{{ vm.name }}</div>
      </div>
      <div class="pl-1 row-start-2 row-end-3 col-start-1 col-end-2 bg-white" [style.opacity]="vm.opacity">
        <div class="inline-block size-8">
          <button
            class="small z-10"
            matIconButton
            [matTooltipShowDelay]="defaultTooltipShowDelay"
            matTooltip="edit activity template"
            (click)="onEditTemplate($event)">
            <mat-icon>edit</mat-icon>
          </button>
        </div>
        <div class="inline-block size-8">
          <button
            class="z-10 small"
            matIconButton
            [matTooltipShowDelay]="defaultTooltipShowDelay"
            matTooltip="delete activity template"
            (click)="onDeleteTemplate($event)">
            <mat-icon>delete</mat-icon>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
}
